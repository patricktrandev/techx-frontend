<div class="row admin-home-body m-0">
  <div class="col-2 bg-side-bar p-0">
    <app-sidebar></app-sidebar>
  </div>
  <div class="col-10 p-0">
    <app-admin-header></app-admin-header>
    <div class="container common-home-body">
      <div class="row">
        <div class="text-center">
          <h3 class="fst-italic mb-3">
            <i class="fa-solid fa-wrench"></i>
            Add Product
          </h3>
        </div>
      </div>

      <form newProductForm="ngForm">
        <div class="row">
          <div class="col-lg-6">
            <div class="my-3">
              <label for="name">Name</label>
              <input
                type="text"
                class="form-control"
                name="name"
                [(ngModel)]="name"
                #newProductControls="ngModel"
                placeholder="Enter name of product"
              />
              <ng-container
                *ngIf="newProductControls.touched && name.length < 10"
              >
                <span class="text-errors-message">Name is invalid</span>
              </ng-container>
            </div>
            <div class="mb-3">
              <label for="name">Price</label>
              <input
                type="text"
                class="form-control"
                name="price"
                [(ngModel)]="price"
                #newProductControls="ngModel"
                placeholder="Enter price of product"
              />
              <ng-container *ngIf="newProductControls.touched && price <= 0">
                <span class="text-errors-message">Price is invalid</span>
              </ng-container>
            </div>
            <div class="mb-3">
              <label for="name">Description</label>
              <textarea
                rows="5"
                name="note"
                class="form-control"
                placeholder="Product description... "
                [(ngModel)]="description"
                #newProductControls="ngModel"
                required
              ></textarea>
              <ng-container
                *ngIf="newProductControls.touched && description.length < 10"
              >
                <span class="text-errors-message">Description is invalid</span>
              </ng-container>
            </div>
            <div class="mb-3">
              <label for="name">Categories</label>
              <select
                [(ngModel)]="selectedCategory"
                name="selectedCategory"
                class="form-select"
                aria-label="Default select example"
              >
                <option
                  name="selectedStatus"
                  [value]="c.id"
                  *ngFor="let c of allCategories"
                >
                  {{ c.name }}
                </option>
              </select>
            </div>
          </div>

          <div class="col-lg-5">
            <div class="upload-container my-3">
              <label for="name">Preview Thumbnail</label>

              <div class="image-preview" *ngIf="imageSrcArray[0]">
                <img [src]="imageSrcArray[0]" alt="Image preview" />
              </div>
            </div>
          </div>
        </div>
      </form>

      <div class="row">
        <div class="upload-container my-3">
          <label for="name my-3">Preview Thumbnail Carousel</label>

          <figcaption class="blockquote-footer">
            No more than 5 images
          </figcaption>
          <input
            type="file"
            class="form-control"
            value="files"
            (change)="onFileChangeImgCarousel($event)"
            accept="image/*"
            multiple
          />
          <div class="image-previews">
            <div
              class="image-preview-array"
              *ngFor="let image of imageSrcArray"
            >
              <img [src]="image" alt="Image preview" />
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12 create-product-button text-end">
          <div class="mb-3">
            <button (click)="createProduct()" class="btn btn-outline-primary">
              Add
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
